var async = require('async');var userDao = require('../../../dao/userDao');var Code = require('../../../shared/code');var MM = require('../../../gameobject/matchManager');var utils = require('../../../util/utils');module.exports = function(app) {	return new Remote(app);};var Remote = function(app) {	this.app = app;    this.cs = app.get('channelService');};var pro = Remote.prototype;pro.registerMatch = function(p1, p2, callback){    MM.createMatch(p1, p2, new Date(), function(err, token){        if (err)        {            utils.invokeCallback(callback, err);            return;        }        utils.invokeCallback(callback, null, token);    });}pro.playerLeave = function(token, callback){    var self = this;    MM.destroyMatch(token, function(err, users){        if (users)        {            self.cs.pushMessageByUids("endMatch", {code: Code.OK}, users, function(err){});        }        utils.invokeCallback(callback, null);    })}